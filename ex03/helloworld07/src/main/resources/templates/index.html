<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
<title>Hello, {ID,ð–¢‹}</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link th:href="@{/static/css/helloworld.css}" rel="stylesheet" type="text/css">
</head>
<body>
    <div id="root">
        <div id="App">
            <div class="hello-box">
                <label class="input-text">
                    <input type="text" placeholder="ID" name="name" style="width: 1ch" autofocus spellcheck='false' autocomplete='off'>
                </label>
                <label class="identity-icon">
                    <span class="icon"></span>
                </label>
            </div>
        </div>
    </div>
    <span id="mse"></span>
</body>
<script>
window.addEventListener('load', () => {
    const inputText = document.querySelector('.input-text input[type="text"]');
    inputText?.addEventListener('keyup', e => {
        e.keyCode === 13 && (() => document.querySelector('.identity-icon .icon').style.backgroundImage = `url('/${e.target.value}')`)();
    });
    inputText.addEventListener('input', (e) => resizeInput(e.target, e.target.value));
    resizeInput(inputText, '');
});
const resizeInput = (e, text) => {
    text = text || 'ID';
    const mse = document.getElementById('mse');
    mse.innerText = text;
    e.style.width = mse.getBoundingClientRect().width + 'px';
}
</script>
</html>